# Maintainer: Xiao-Long Chen <chenxiaolong@cxl.epac.to>

pkgname=umockdev
pkgver=0.5
pkgrel=1
pkgdesc="Record/mock hardware devices for bug reports and regression tests"
arch=('i686' 'x86_64')
url="https://github.com/martinpitt/umockdev/"
license=('LGPL')
groups=('unitynext')
depends=('systemd' 'xf86-video-dummy' 'xf86-input-evdev' 'xf86-input-synaptics' 'xorg-xinput')
makedepends=('gobject-introspection' 'gtk-doc' 'vala')
source=("https://launchpad.net/umockdev/trunk/${pkgver}/+download/umockdev-${pkgver}.tar.xz")
sha512sums=('3fc06b337847a4db2ff1eb13f55adf758b00854c8e0ed0a25a111816fe77ee51256c503ae967d6401cbc353c33232cbf0738b6dfd1717c4c348aa54c6c4f4c9d')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  ./configure --prefix=/usr --enable-gtk-doc --enable-introspection
  make
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  make DESTDIR="${pkgdir}/" install
}
